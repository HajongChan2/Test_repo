{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"text_box\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Test = _resolveComponent(\"Test\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Test, {\n    onSendData: $options.receiveData\n  }, null, 8 /* PROPS */, [\"onSendData\"]), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", {\n    class: \"text\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.handleCopy && $options.handleCopy(...args))\n  }, _toDisplayString($data.message), 1 /* TEXT */), $data.showCount ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString($data.count) + \"초\", 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createVNode","_component_Test","onSendData","$options","receiveData","_createElementVNode","_hoisted_1","onClick","_cache","args","handleCopy","$data","message","showCount","_createElementBlock","_hoisted_2","_toDisplayString","count"],"sources":["C:\\Users\\gkwhd\\Desktop\\test\\test\\Test_repo\\src\\App.vue"],"sourcesContent":["<template>\n  <Test @send-data=\"receiveData\" />\n  <div class=\"text_box\">\n    <div class=\"text\" @click=\"handleCopy\">{{ message }}</div>\n    <div v-if=\"showCount\">{{ count }}초</div>\n  </div>\n</template>\n\n<script>\nimport Test from './components/Test.vue'\nimport messageData from './assets/test.json'\n\nexport default {\n  name: 'App',\n  components: {\n    Test\n  },\n  methods: {\n    receiveData(payload) {\n      this.num = payload.num;\n      this.select = payload.select;\n      this.message = messageData[0][this.select].replace('{num}', this.num);\n      this.handleCopy()\n    },\n    handleCopy() {\n      // 기존 타이머 있으면 제거\n      if (this.timer) {\n        clearInterval(this.timer)\n        this.timer = null\n        this.count = 60\n      }\n\n      if (this.select === 'two') {\n        this.showCount = true\n        this.copyText();\n        this.timer = setInterval(() => {\n          this.count--\n          \n          if (this.count === 0) {\n            clearInterval(this.timer)\n            this.timer = null\n            this.showCount = false;\n            this.count = 60\n            console.log(this.showCount)\n          }\n        }, 1000)\n\n      } else {\n        this.copyText()\n        this.showCount = false;\n      }\n    },\n    copyText() {\n      navigator.clipboard.writeText(this.message)\n        .then(() => {\n          console.log('복사 완료')\n        })\n        .catch(err => {\n          console.error('복사 실패', err)\n        })\n    }\n  },\n  data(){\n        return{\n            num : '',\n            select : '',\n            message: '',\n            count : 60,\n            showCount : false,\n            timer: null\n        }\n  },\n}\n\n</script>\n\n<style>\n#app {\n  margin:0 auto;\n  box-sizing: border-box;\n  padding:0;\n  \n}\n.text_box{\n  display: flex;\n  margin: 30px 0;\n  flex-direction: column;\n  align-items: center;\n}    \n.text{\n  width: 50%;\n  height: 150px;\n  border: solid 1px #d9d9d9;\n  border-radius: 8px;\n  padding:10px;\n  cursor: pointer;\n}\n</style>\n"],"mappings":";;EAEOA,KAAK,EAAC;AAAU;;;;;;6DADrBC,YAAA,CAAiCC,eAAA;IAA1BC,UAAS,EAAEC,QAAA,CAAAC;EAAW,yCAC7BC,mBAAA,CAGM,OAHNC,UAGM,GAFJD,mBAAA,CAAyD;IAApDN,KAAK,EAAC,MAAM;IAAEQ,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEN,QAAA,CAAAO,UAAA,IAAAP,QAAA,CAAAO,UAAA,IAAAD,IAAA,CAAU;sBAAKE,KAAA,CAAAC,OAAO,kBACrCD,KAAA,CAAAE,SAAS,I,cAApBC,mBAAA,CAAwC,OAAAC,UAAA,EAAAC,gBAAA,CAAfL,KAAA,CAAAM,KAAK,IAAG,GAAC,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}